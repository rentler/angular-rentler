!function(){"use strict";angular.module("rentler.core",[])}(),angular.module("rentler.core").run(["$templateCache",function(e){e.put("validation/directives/validateMsg/validateMsg.html",'<div class="text-danger" ng-if="messages.length > 0">\n    <div ng-repeat="message in messages | limitTo:1">{{message}}</div>\n</div>')}]),function(){"use strict";function e(){function e(e,r,t,n){for(var a,i,s=t.rValidateMsg,l=_.lastIndexOf(s,".");_.lastIndexOf(s,".",l)>-1&&!_.has(i,"validation");)l=_.lastIndexOf(s,".",l)-1,a=s.substring(0,l+1),i=_.result(e,a);if(_.has(i,"validation")){var o=_.last(s.split("."));a+=".validation",e.$watch(a,function(){n.$submitted&&(e.messages=_.has(i.validation.errors,o)?i.validation.errors[o]:[])},!0)}}var r={restrict:"A",require:"^form",scope:!0,link:e,replace:!0,templateUrl:"validation/directives/validateMsg/validateMsg.html"};return r}angular.module("rentler.core").directive("rValidateMsg",e),e.$inject=[]}(),function(){"use strict";function e(e){function r(r,t,n,a){for(var i,s,l=n.rValidateClass,o=_.lastIndexOf(l,".");_.lastIndexOf(l,".",o)>-1&&!_.has(s,"validation");)o=_.lastIndexOf(l,".",o)-1,i=l.substring(0,o+1),s=_.result(r,i);if(_.has(s,"validation")){var u=_.last(l.split("."));i+=".validation",r.$watch(i,function(){if(a.$submitted&&_.has(s.validation.errors,u)){var r=s.validation.errors[u].length;0===r?t.removeClass(e.getClasses().error).addClass(e.getClasses().success):r>0&&t.addClass(e.getClasses().error).removeClass(e.getClasses().success)}},!0)}}var t={restrict:"A",require:"^form",link:r};return t}angular.module("rentler.core").directive("rValidateClass",e),e.$inject=["Validation"]}(),function(){"use strict";function e(){function e(e,r,t,n){for(var a,i,s=_.lastIndexOf(t.ngModel,".");_.lastIndexOf(t.ngModel,".",s)>-1&&!_.has(i,"validate")&&!_.isFunction(i,"validate");)s=_.lastIndexOf(t.ngModel,".",s)-1,a=t.ngModel.substring(0,s+1),i=_.result(e,a);_.has(i,"validate")&&e.$watch(t.ngModel,function(){var e=_.last(t.ngModel.split(".")),r=i.validate(e);n.$setValidity("",r)})}var r={restrict:"A",require:"ngModel",link:e};return r}angular.module("rentler.core").directive("ngModel",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t,n){r.on("submit",function(){n.$submitted=!0})}var r={restrict:"E",require:"^form",link:{pre:e}};return r}angular.module("rentler.core").directive("form",e),e.$inject=[]}(),function(){"use strict";function e(e){function r(r,t,n){if(!n||!_.isFunction(n))return!0;var a=n(t);return e.validate(r,t,a)}var t={message:"Field is required.",validate:r};return t}angular.module("rentler.core").factory("RequiredIfValidator",e),e.$inject=["RequiredValidator"]}(),function(){"use strict";function e(){function e(e,r,t){return t?!(_.isNull(e)||_.isUndefined(e)||_.isString(e)&&""===_.trim(e)||_.isArray(e)&&_.isEmpty(e)):!0}var r={message:"Field is required.",validate:e};return r}angular.module("rentler.core").factory("RequiredValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t){if(!t)return!0;var n=_.isArray(t)?t:t.range,a=n[0]||e,i=n[1]||e;return _.isNull(e)||_.isBoolean(e)||_.isArray(e)?!1:_.isNumber(+e)&&+e>=a&&i>=+e}var r={validate:e,message:"Field is out of range"};return r}angular.module("rentler.core").factory("RangeValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t){if(!t)return!0;var n=_.isRegExp(t)?t:t.pattern;return n.test(e)}var r={message:"Field is invalid.",validate:e};return r}angular.module("rentler.core").factory("PatternValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t){return t?_.isNumber(e)?!0:_.isString(e)&&!_.isNaN(+e):!0}var r={message:"Field must be a number.",validate:e};return r}angular.module("rentler.core").factory("NumericValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t){return t?_.isBoolean(e)&&e===!0:!0}var r={message:"Field is mandatory.",validate:e};return r}angular.module("rentler.core").factory("MandatoryValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t){if(!t)return!0;var n=_.isArray(t)?t:t.length,a=n[0]||(e?e.length:0),i=n[1]||(e?e.length:0);return _.isString(e)&&e.length>=a&&e.length<=i}var r={validate:e,message:function(e,r){return _.format("{0} must be between {1} and {2} characters long.",_.capitalize(e),r[0],r[1])}};return r}angular.module("rentler.core").factory("LengthValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t){var n=_.has(t,"equals")?t.equals:t;return _.isEqual(e,n)}var r={validate:e,message:function(e,r){return _.format("{0} must be equal to {1}",_.capitalize(e),r)}};return r}angular.module("rentler.core").factory("EqualsValidator",e)}(),function(){"use strict";function e(){function e(e,r,t){if(!t)return!0;var n=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return n.test(e)}var r={message:"Invalid email address.",validate:e};return r}angular.module("rentler.core").factory("EmailValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t){if(!t)return!0;var n=_.isString(t)?t:t.compare;return e===r[n]}function r(e,r){return _.format("Field and {0} must be the same",r)}var t={message:r,validate:e};return t}angular.module("rentler.core").factory("CompareValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t){return t?_.isString(e):!0}var r={message:"Field must be alphanumeric.",validate:e};return r}angular.module("rentler.core").factory("AlphanumericValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e){e=_.pick(e,_.keys(t)),_.merge(t,e)}function r(){function e(){return t}var r={getClasses:e};return r}var t={success:"has-success",warning:"has-warning",error:"has-error"};this.setClasses=e,this.$get=r}angular.module("rentler.core").provider("Validation",e),e.$inject=[]}(),function(){"use strict";function e(e){function r(r){var t=this;if(!_.isEmpty(t.schema))return t.validation=t.validation||{},t.validation.errors=t.validation.errors||{},_.forIn(t.schema,function(n,a){r&&_.isString(r)&&r!==a||_.isArray(r)&&!_.includes(r,a)||(t.validation.errors[a]=[],_.forIn(n,function(r,n){var i=_.capitalize(n+"Validator"),s=e.get(i),l=s.validate(t[a],t,r);if(!l){var o=_.isString(r.message)?r.message:_.isFunction(r.message)?r.message(a,r):_.isString(s.message)?s.message:_.isFunction(s.message)?s.message(a,r):"Invalid";t.validation.errors[a].push(o)}}))}),t.validation.isValid=0===_(t.validation.errors).values().flatten().value().length,t.validation.timestamp=_.now(),t.validation.isValid}var t={validation:{},validate:r};return t}angular.module("rentler.core").factory("Validatable",e),e.$inject=["$injector"]}(),function(){"use strict";function e(){function e(e){var r=this,t=_.cloneDeep(r);return _.assign(t,e),_.bindAll(t),t}var r={create:e};return r}angular.module("rentler.core").factory("Instantiable",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,t,n,a){function i(e){var r=this,n=c(r.url,e,r);r.progress.get=!0;var a=t({method:"GET",url:n}).then(function(e){return _.assign(r,e.data),r.relationalize(),r})["finally"](function(){r.progress.get=!1});return a}function s(e){var r=this;r.progress.list=!0;var n=c(r.url,null,r,e),a=t({method:"GET",url:n}).then(function(e){return _.assign(r,e.data),_.assign(r,{}),_.forEach(r.items,function(e){e=r.create(e)}),r})["finally"](function(){r.progress.list=!1});return a}function l(){var e=this;e.progress.save=!0;var r=c(e.url,null,e),n=_.pick(e,_.keys(e.schema)),a=t({method:"POST",url:r,data:n}).then(function(r){return _.assign(e,r.data),e.relationalize(),e})["finally"](function(){e.progress.save=!1});return a}function o(e){var r=this;r.progress.remove=!0;var n=c(r.url,e,r),a=t({method:"DELETE",url:n})["finally"](function(){r.progress.remove=!1});return a}function u(e){var r=this;r.progress[e.name]=!0,e.url=c(r.url+e.url,null,r);var n=t(e)["finally"](function(){r.progress[e.name]=!1});return n}function c(e,t,n,a){e=r+e;var i,s=e,l=/:(\*)?[a-zA-Z0-9]+/g;do if(i=l.exec(e)){var o=i[0],u=o.replace(/\W+/g,"");o.indexOf("*")>-1&&t?s=s.replace(o,t):!_.has(n,u)||_.isNull(_.result(n,u))||_.isUndefined(_.result(n,u))||(s=s.replace(o,_.result(n,u)))}while(i);return s=s.replace(/\/:\*[a-zA-Z0-9]+/g,""),a&&(s+=f(a)),s}function d(){var e=this;_.has(e,"relations")&&0!==_.keys(e.relations).length&&_.forIn(e.relations,function(r,t){if(_.has(e,t)){var a=n.get(r);e[t]=a.create(e[t])}})}function f(e){var r=_.map(e,function(e,r){return r+"="+encodeURIComponent(e)}).join("&");return r.length>0&&(r="?"+r),r}var g={get:i,list:s,save:l,remove:o,http:u,relationalize:d,progress:{}};return _.assign(g,_.cloneDeep(a)),g}var r;this.setBaseUrl=function(e){r=e},this.$get=e,e.$inject=["$q","$http","$injector","Instantiable"]}angular.module("rentler.core").provider("DataModel",e),e.$inject=[]}();
//# sourceMappingURL=angular-rentler.min.js.map