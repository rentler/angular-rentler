!function(){"use strict";angular.module("rentler.core",[])}(),angular.module("rentler.core").run(["$templateCache",function(e){e.put("validation/directives/validateMsg/validateMsg.html",'<div class="help-block" ng-if="messages.length > 0">\n  <div ng-repeat="message in messages | limitTo:1">{{message}}</div>\n</div>')}]),function(){"use strict";function e(){var e={restrict:"EA",require:"form",scope:{rValidator:"="},controller:t};return e}function t(e,t,r,n){function i(){n(function(){a.validator.validate(),_.forEach(a.listeners,function(e){e()})})}var a=this;if(a.attr=r.rValidator,a.validator=e.rValidator,a.listeners=[],!_.has(e.rValidator,"validate")&&!_.isFunction(e.rValidator.validate))throw"Invalid Validator.";e.$watch("rValidator.model",i,!0);var s=t.controller("form");e.$watch(function(){return s.$submitted},i)}angular.module("rentler.core").directive("rValidator",e),e.$inject=[],t.$inject=["$scope","$element","$attrs","$timeout"]}(),function(){"use strict";function e(){function e(e,t,r,n){function i(){a.$submitted&&(e.messages=_.has(u.errors,c)?u.errors[c]:[])}for(var a=n[0],s=n[1],l=n[2],u=_.get(s,"validator"),o=l,c="";!_.isEmpty(o);){var f=o.index,d=o.itemName,g=o.collectionName,m=m||r.rValidateMsg,v=m.split("."),p="";d===_.first(v)&&(p=g,p+="["+f+"]",v.length>1&&(p+="."+_.tail(v).join(".")),o.ngRepeat&&(p=_.trimStart(p,o.ngRepeat.itemName)),m=_.first(g.split("."))),c=p+"."+c,c=_.trim(c,"."),o=o.ngRepeat}c=c||r.rValidateMsg;var h=0,$=c.split("."),y="";do{if(y=y+"."+$[h],y=_.trim(y,"."),_.result(e,y)===u.model)break;h++}while(h<=$.length);c=_.replace(c,y,""),c=_.trim(c,"."),s.listeners.push(i)}var t={restrict:"A",require:["^form","^rValidator","?^ngRepeat"],scope:!0,link:e,replace:!0,templateUrl:"validation/directives/validateMsg/validateMsg.html"};return t}angular.module("rentler.core").directive("rValidateMsg",e),e.$inject=[]}(),function(){"use strict";function e(e){function t(t,r,n,i){function a(){if(s.$submitted&&_.has(o.errors,f)){var t=o.errors[f].length;0===t?r.removeClass(e.getClasses().error).addClass(e.getClasses().success):t>0&&r.addClass(e.getClasses().error).removeClass(e.getClasses().success)}}for(var s=i[0],l=i[1],u=i[2],o=_.get(l,"validator"),c=u,f="";!_.isEmpty(c);){var d=c.index,g=c.itemName,m=c.collectionName,v=v||n.rValidateClass,p=v.split("."),h="";g===_.first(p)&&(h=m,h+="["+d+"]",p.length>1&&(h+="."+_.tail(p).join(".")),c.ngRepeat&&(h=_.trimStart(h,c.ngRepeat.itemName)),v=_.first(m.split("."))),f=h+"."+f,f=_.trim(f,"."),c=c.ngRepeat}f=f||n.rValidateClass;var $=0,y=f.split("."),V="";do{if(V=V+"."+y[$],V=_.trim(V,"."),_.result(t,V)===o.model)break;$++}while($<=y.length);f=_.replace(f,V,""),f=_.trim(f,"."),l.listeners.push(a)}var r={restrict:"A",require:["^form","^rValidator","?^ngRepeat"],link:t};return r}angular.module("rentler.core").directive("rValidateClass",e),e.$inject=["Validation"]}(),function(){"use strict";function e(){var e={restrict:"EA",controller:t};return e}function t(e,t,r){function n(){var e=r.ngRepeat,t=e.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);i.collectionName=t[2],t=t[1].match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),i.itemName=t[3]||t[1]}var i=this;i.index=e.$index,i.collectionName=null,i.itemName=null,i.ngRepeat=t.parent().controller("ngRepeat"),n()}angular.module("rentler.core").directive("ngRepeat",e),e.$inject=[],t.$inject=["$scope","$element","$attrs"]}(),function(){"use strict";function e(){function e(e,t,r,n){function i(){var e=u.errors[c].length,t=0===e;a.$setValidity("",t)}var a=n[0],s=n[1],l=n[2];if(s){for(var u=_.get(s,"validator"),o=l,c="";!_.isEmpty(o);){var f=o.index,d=o.itemName,g=o.collectionName,m=m||r.ngModel,v=m.split("."),p="";d===_.first(v)&&(p=g,p+="["+f+"]",v.length>1&&(p+="."+_.tail(v).join(".")),o.ngRepeat&&(p=_.trimStart(p,o.ngRepeat.itemName)),m=_.first(g.split("."))),c=p+"."+c,c=_.trim(c,"."),o=o.ngRepeat}c=c||r.ngModel;var h=0,$=c.split("."),y="";do{if(y=y+"."+$[h],y=_.trim(y,"."),_.result(e,y)===u.model)break;h++}while(h<=$.length);c=_.replace(c,y,""),c=_.trim(c,"."),s.listeners.push(i)}}var t={restrict:"A",require:["ngModel","?^rValidator","?^ngRepeat"],link:e};return t}angular.module("rentler.core").directive("ngModel",e),e.$inject=[]}(),function(){"use strict";function e(e){function t(t,r,n,i){function a(){i.$submitted=!0,e(n.ngSubmit)(t)}var s=[r.find("button"),r.find("input")],l=_.find(s,function(e){for(var t=0;t<e.length;t++)return"submit"===e[t].type.toLowerCase()});angular.element(l).bind("click",function(e){e.preventDefault(),n.ngSubmit&&_.isUndefined(angular.element(this).attr("ng-click"))&&a()}),r.bind("keydown",function(e){var t=e.keyCode||e.which;13===t&&(n.ngSubmit&&a(),l&&l.click())}),r.on("submit",function(){a()})}var r={restrict:"EA",require:"form",link:t};return r}angular.module("rentler.core").directive("ngForm",e),e.$inject=["$parse"]}(),function(){"use strict";function e(e){function t(t,r,n){if(!n||!_.isFunction(n))return!0;var i=n(r);return e.validate(t,r,i)}var r={message:"Required",validate:t};return r}angular.module("rentler.core").factory("RequiredIfValidator",e),e.$inject=["RequiredValidator"]}(),function(){"use strict";function e(){function e(e,t,r){return r?!(_.isNull(e)||_.isUndefined(e)||_.isString(e)&&""===_.trim(e)||_.isArray(e)&&_.isEmpty(e)):!0}var t={message:"Required",validate:e};return t}angular.module("rentler.core").factory("RequiredValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,t,r){if(!r)return!0;if(_.isUndefined(e)||_.isNull(e))return!0;var n=_.isArray(r)?r:r.range,i=n[0]||e,a=n[1]||e;return _.isBoolean(e)?!1:_.isArray(e)?e.length>=i&&e.length<=a:_.isNumber(+e)&&+e>=i&&a>=+e}var t={validate:e,message:"Invalid"};return t}angular.module("rentler.core").factory("RangeValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,t,r){if(!r)return!0;if(_.isUndefined(e)||_.isNull(e))return!0;var n=_.isRegExp(r)?r:r.pattern;return n.test(e)}var t={message:"Field is invalid.",validate:e};return t}angular.module("rentler.core").factory("PatternValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,t,r){return r?_.isNumber(e)||_.isUndefined(e)||_.isNull(e)?!0:_.isString(e)&&!_.isNaN(+e):!0}var t={message:"Must Be a Number",validate:e};return t}angular.module("rentler.core").factory("NumericValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,t,r){return r?_.isBoolean(e)&&e===!0:!0}var t={message:"Must Agree to Continue",validate:e};return t}angular.module("rentler.core").factory("MandatoryValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,t,r){if(!r||!e)return!0;var n=_.isArray(r)?r:r.length,i=n[0]||(e?e.length:0),a=n[1]||(e?e.length:0);return(_.isString(e)||_.isArray(e))&&e.length>=i&&e.length<=a}var t={validate:e,message:function(e,t){return _.isNumber(t[0])&&!_.isNumber(t[1])?"Must Be At Least "+t[0]+" Characters Long":!_.isNumber(t[0])&&_.isNumber(t[1])?"Must Be Under "+t[1]+" Characters Long":"Must Be "+t[0]+"â€“"+t[1]+" Characters Long"}};return t}angular.module("rentler.core").factory("LengthValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,t,r){if(_.isUndefined(e)||_.isNull(e))return!0;var n=_.has(r,"equals")?r.equals:r;return _.isEqual(e,n)}var t={validate:e,message:function(e,t){return _.format("{0} Must Match {1}",_.capitalize(e),t)}};return t}angular.module("rentler.core").factory("EqualsValidator",e)}(),function(){"use strict";function e(){function e(e,t,r){if(!r)return!0;if(_.isUndefined(e)||_.isNull(e))return!0;var n=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return n.test(e)}var t={message:"Invalid Email",validate:e};return t}angular.module("rentler.core").factory("EmailValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,t,r){if(!r)return!0;if(_.isUndefined(e)||_.isNull(e))return!0;var n=_.isString(r)?r:r.compare;return e===t[n]}function t(e,t){return _.format("Must Match",t)}var r={message:t,validate:e};return r}angular.module("rentler.core").factory("CompareValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,t,r){return r?_.isUndefined(e)||_.isNull(e)?!0:_.isString(e):!0}var t={message:"Field must be alphanumeric.",validate:e};return t}angular.module("rentler.core").factory("AlphanumericValidator",e),e.$inject=[]}(),function(){"use strict";function e(e){function t(t,r){function n(n){function i(t){_.forIn(t,function(t,s){n&&_.isString(n)&&n!==s||_.isArray(n)&&!_.includes(n,s)||_.has(t,"validateIf")&&_.isFunction(t.validateIf)&&t.validateIf(r)===!1||(a.errors[s]=[],_.forIn(t,function(t,n){if("validateIf"!==n){if("collection"===n)return void _.forIn(_.result(r,s),function(e,r){var n=_.mapKeys(t,function(e,t){return s+"["+r+"]."+t});i(n)});var l=_.upperFirst(n)+"Validator",u=e.get(l),o=u.validate(_.result(r,s),r,t);if(!o){var c=_.isString(t.message)?t.message:_.isFunction(t.message)?t.message(s,t):_.isString(u.message)?u.message:_.isFunction(u.message)?u.message(s,t):"Invalid";a.errors[s].push(c)}}}))})}var a=this;i(t),a.isValid=0===_(a.errors).values().flatten().value().length;var s=0===_(a.errors).pick(n||_.keys(t)).values().flatten().value().length;return a.timestamp=_.now(),s}var i={validate:n,schema:t,model:r,errors:{},isValid:!0,timestamp:0};return i}var r={create:t};return r}angular.module("rentler.core").factory("Validator",e),e.$inject=["$injector"]}(),function(){"use strict";function e(){function e(e){e=_.pick(e,_.keys(r)),_.merge(r,e)}function t(){function e(){return r}var t={getClasses:e};return t}var r={success:"has-success",warning:"has-warning",error:"has-error"};this.setClasses=e,this.$get=t}angular.module("rentler.core").provider("Validation",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e){var t=this,r=_.cloneDeep(t);return _.assign(r,e),_.bindAll(r,_.functions(r)),r}var t={create:e};return t}angular.module("rentler.core").factory("Instantiable",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,n,i){function a(e){var t=this,n=c(t.url,e,t);t.progress.get=!0;var i=r({method:"GET",url:n}).then(function(e){return _.assign(t,e.data),t.relationalize(),t})["finally"](function(){t.progress.get=!1});return i}function s(e){var t=this;t.progress.list=!0;var n=c(t.url,null,t,e),i=r({method:"GET",url:n}).then(function(e){return _.assign(t,e.data),_.assign(t,{}),_.forEach(t.items,function(e){e=t.create(e)}),t})["finally"](function(){t.progress.list=!1});return i}function l(){var e=this;e.progress.save=!0;var t=c(e.url,null,e),n=_.pick(e,_.keys(e.schema)),i=r({method:"POST",url:t,data:n}).then(function(t){return _.assign(e,t.data),e.relationalize(),e})["finally"](function(){e.progress.save=!1});return i}function u(e){var t=this;t.progress.remove=!0;var n=c(t.url,e,t),i=r({method:"DELETE",url:n})["finally"](function(){t.progress.remove=!1});return i}function o(e){var t=this;t.progress[e.name]=!0,e.url=c(t.url+e.url,null,t);var n=r(e)["finally"](function(){t.progress[e.name]=!1});return n}function c(e,r,n,i){e=t+e;var a,s=e,l=/:(\*)?[a-zA-Z0-9]+/g;do if(a=l.exec(e)){var u=a[0],o=u.replace(/\W+/g,"");u.indexOf("*")>-1&&r?s=s.replace(u,r):!_.has(n,o)||_.isNull(_.result(n,o))||_.isUndefined(_.result(n,o))||(s=s.replace(u,_.result(n,o)))}while(a);return s=s.replace(/\/:\*[a-zA-Z0-9]+/g,""),i&&(s+=d(i)),s}function f(){var e=this;_.has(e,"relations")&&0!==_.keys(e.relations).length&&_.forIn(e.relations,function(t,r){if(_.has(e,r)){var i=n.get(t);e[r]=i.create(e[r])}})}function d(e){var t=_.map(e,function(e,t){return t+"="+encodeURIComponent(e)}).join("&");return t.length>0&&(t="?"+t),t}var g={get:a,list:s,save:l,remove:u,http:o,relationalize:f,progress:{}};return _.assign(g,_.cloneDeep(i)),g}var t;this.setBaseUrl=function(e){t=e},this.$get=e,e.$inject=["$q","$http","$injector","Instantiable"]}angular.module("rentler.core").provider("DataModel",e),e.$inject=[]}();
//# sourceMappingURL=angular-rentler.min.js.map