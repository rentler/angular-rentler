!function(){"use strict";angular.module("rentler.core",[])}(),angular.module("rentler.core").run(["$templateCache",function(e){e.put("validation/directives/validateMsg/validateMsg.html",'<div class="help-block" ng-if="messages.length > 0">\r\n  <div ng-repeat="message in messages | limitTo:1">{{message}}</div>\r\n</div>')}]),function(){"use strict";function e(){var e={restrict:"EA",require:"form",scope:{rValidator:"="},controller:r};return e}function r(e,r,t,n){function i(){n(function(){a.validator.validate(),_.forEach(a.listeners,function(e){e()})})}var a=this;if(a.attr=t.rValidator,a.validator=e.rValidator,a.listeners=[],!_.has(e.rValidator,"validate")&&!_.isFunction(e.rValidator.validate))throw"Invalid Validator.";e.$watch("rValidator.model",i,!0);var s=r.controller("form");e.$watch(function(){return s.$submitted},i)}angular.module("rentler.core").directive("rValidator",e),e.$inject=[],r.$inject=["$scope","$element","$attrs","$timeout"]}(),function(){"use strict";function e(e){function r(r,t,n,i){function a(){f=e.getFieldName(d)}function s(){l.$submitted&&(r.messages=_.has(c.errors,f)?c.errors[f]:[])}var l=i[0],o=i[1],u=i[2];if(o){var c=_.get(o,"validator"),f="",d={attrFieldName:n.rValidateMsg,ngRepeatCtrl:u,validator:c};a(),u&&u.listeners.push(a);var g=f.replace(/\[\d+\]/g,".collection");_.has(c.schema,g)&&(o.listeners.push(s),r.$on("$destroy",function(){_.pull(o.listeners,s),u&&_.pull(u.listeners,a)}))}}var t={restrict:"A",require:["^form","^rValidator","?^ngRepeat"],scope:!0,link:r,replace:!0,templateUrl:"validation/directives/validateMsg/validateMsg.html"};return t}angular.module("rentler.core").directive("rValidateMsg",e),e.$inject=["Validation"]}(),function(){"use strict";function e(e){function r(r,t,n,i){function a(){f=e.getFieldName(d)}function s(){if(l.$submitted&&_.has(c.errors,f)){var r=c.errors[f].length;0===r?t.removeClass(e.getClasses().error).addClass(e.getClasses().success):r>0&&t.addClass(e.getClasses().error).removeClass(e.getClasses().success)}}var l=i[0],o=i[1],u=i[2];if(o){var c=_.get(o,"validator"),f="",d={attrFieldName:n.rValidateClass,ngRepeatCtrl:u,validator:c};a(),u&&u.listeners.push(a);var g=f.replace(/\[\d+\]/g,".collection");_.has(c.schema,g)&&(o.listeners.push(s),r.$on("$destroy",function(){_.pull(o.listeners,s),u&&_.pull(u.listeners,a)}))}}var t={restrict:"A",require:["^form","^rValidator","?^ngRepeat"],link:r};return t}angular.module("rentler.core").directive("rValidateClass",e),e.$inject=["Validation"]}(),function(){"use strict";function e(){var e={restrict:"EA",controller:r};return e}function r(e,r,t){function n(){var r=t.ngRepeat,n=r.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);i.collectionName=n[2].split("|")[0],i.collectionName=_.trim(i.collectionName),n=n[1].match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),i.itemName=n[3]||n[1],e.$watch("$index",function(e){i.index=e,_.forEach(i.listeners,function(e){e()})})}var i=this;i.index=e.$index,i.collectionName=null,i.itemName=null,i.ngRepeat=r.parent().controller("ngRepeat"),i.listeners=[],n()}angular.module("rentler.core").directive("ngRepeat",e),e.$inject=[],r.$inject=["$scope","$element","$attrs"]}(),function(){"use strict";function e(e){function r(r,t,n,i){function a(){f=e.getFieldName(d)}function s(){var e=c.errors[f].length,r=0===e;l.$setValidity("",r)}var l=i[0],o=i[1],u=i[2];if(o){var c=_.get(o,"validator"),f="",d={attrFieldName:n.ngModel,ngRepeatCtrl:u,validator:c};a(),u&&u.listeners.push(a);var g=f.replace(/\[\d+\]/g,".collection");_.has(c.schema,g)&&(o.listeners.push(s),r.$on("$destroy",function(){_.pull(o.listeners,s),u&&_.pull(u.listeners,a)}))}}var t={restrict:"A",require:["ngModel","?^rValidator","?^ngRepeat"],link:r};return t}angular.module("rentler.core").directive("ngModel",e),e.$inject=["Validation"]}(),function(){"use strict";function e(e){function r(r,t,n,i){function a(){i.$submitted=!0,e(n.ngSubmit)(r)}var s=[t.find("button"),t.find("input")],l=_.find(s,function(e){for(var r=0;r<e.length;r++)return"submit"===e[r].type.toLowerCase()});angular.element(l).bind("click",function(e){e.preventDefault(),n.ngSubmit&&_.isUndefined(angular.element(this).attr("ng-click"))&&a()}),t.bind("keydown",function(e){var r=e.keyCode||e.which;13===r&&(n.ngSubmit&&a(),l&&l.click())}),t.on("submit",function(){a()})}var t={restrict:"EA",require:"form",link:r};return t}angular.module("rentler.core").directive("ngForm",e),e.$inject=["$parse"]}(),function(){"use strict";function e(){function e(e){var r=this,t=_.cloneDeep(r);return _.assign(t,e),_.bindAll(t,_.functions(t)),t}var r={create:e};return r}angular.module("rentler.core").factory("Instantiable",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,t,n,i){function a(e){var r=this,n=c(r.url,e,r);r.progress.get=!0;var i=t({method:"GET",url:n}).then(function(e){return _.assign(r,e.data),r.relationalize(),r})["finally"](function(){r.progress.get=!1});return i}function s(e){var r=this;r.progress.list=!0;var n=c(r.url,null,r,e),i=t({method:"GET",url:n}).then(function(e){return _.assign(r,e.data),_.assign(r,{}),_.forEach(r.items,function(e){e=r.create(e)}),r})["finally"](function(){r.progress.list=!1});return i}function l(){var e=this;e.progress.save=!0;var r=c(e.url,null,e),n=_.pick(e,_.keys(e.schema)),i=t({method:"POST",url:r,data:n}).then(function(r){return _.assign(e,r.data),e.relationalize(),e})["finally"](function(){e.progress.save=!1});return i}function o(e){var r=this;r.progress.remove=!0;var n=c(r.url,e,r),i=t({method:"DELETE",url:n})["finally"](function(){r.progress.remove=!1});return i}function u(e){var r=this;r.progress[e.name]=!0,e.url=c(r.url+e.url,null,r);var n=t(e)["finally"](function(){r.progress[e.name]=!1});return n}function c(e,t,n,i){e=r+e;var a,s=e,l=/:(\*)?[a-zA-Z0-9]+/g;do if(a=l.exec(e)){var o=a[0],u=o.replace(/\W+/g,"");o.indexOf("*")>-1&&t?s=s.replace(o,t):!_.has(n,u)||_.isNull(_.result(n,u))||_.isUndefined(_.result(n,u))||(s=s.replace(o,_.result(n,u)))}while(a);return s=s.replace(/\/:\*[a-zA-Z0-9]+/g,""),i&&(s+=d(i)),s}function f(){var e=this;_.has(e,"relations")&&0!==_.keys(e.relations).length&&_.forIn(e.relations,function(r,t){if(_.has(e,t)){var i=n.get(r);e[t]=i.create(e[t])}})}function d(e){var r=_.map(e,function(e,r){return r+"="+encodeURIComponent(e)}).join("&");return r.length>0&&(r="?"+r),r}var g={get:a,list:s,save:l,remove:o,http:u,relationalize:f,progress:{}};return _.assign(g,_.cloneDeep(i)),g}var r;this.setBaseUrl=function(e){r=e},this.$get=e,e.$inject=["$q","$http","$injector","Instantiable"]}angular.module("rentler.core").provider("DataModel",e),e.$inject=[]}(),function(){"use strict";function e(e){function r(r,t,n,i){if(!n)return!0;var a=_.isFunction(n)?n:n.requiredIf,s=a(t,i);return e.validate(r,t,s)}var t={validate:r,message:"Required"};return t}angular.module("rentler.core").factory("RequiredIfValidator",e),e.$inject=["RequiredValidator"]}(),function(){"use strict";function e(){function e(e,r,t){return!t||!(_.isNil(e)||_.isString(e)&&""===_.trim(e)||_.isArray(e)&&0===e.length)}var r={message:"Required",validate:e};return r}angular.module("rentler.core").factory("RequiredValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t){if(!t||_.isNil(e))return!0;var n=_.isArray(t)?t:t.range,i=_.isNil(n[0])?e:n[0],a=_.isNil(n[1])?e:n[1];return!_.isBoolean(e)&&(_.isArray(e)?e.length>=i&&e.length<=a:_.isNumber(+e)&&+e>=i&&+e<=a)}function r(e,r,t){var n=_.isArray(r)?r:r.range,i=_.isNil(n[0])?t:n[0],a=_.isNil(n[1])?t:n[1];return _.isNumber(i)&&!_.isNumber(a)?"Minimum of "+i:!_.isNumber(i)&&_.isNumber(a)?"Maximum of "+a:"Must be "+i+"–"+a}var t={validate:e,message:r};return t}angular.module("rentler.core").factory("RangeValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t){if(!t||_.isNil(e))return!0;var n=_.isRegExp(t)?t:t.pattern;return n.test(e)}var r={message:"Invalid",validate:e};return r}angular.module("rentler.core").factory("PatternValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t){return!(t&&!_.isNil(e)&&!_.isNumber(e))||_.isString(e)&&!_.isNaN(+e)}var r={message:"Invalid",validate:e};return r}angular.module("rentler.core").factory("NumericValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t){if(!t||_.isNil(e))return!0;var n=_.isString(t)?t:t.notEqualTo,i=_.get(r,n);return _.isString(e)&&_.isString(i)&&(e=e.toLowerCase(),i=i.toLowerCase()),e!==i}var r={message:"Invalid",validate:e};return r}angular.module("rentler.core").factory("NotEqualToValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t){return!t||_.isBoolean(e)&&e===!0}var r={message:"Must Agree to Continue",validate:e};return r}angular.module("rentler.core").factory("MandatoryValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t){if(!t||_.isNil(e)||_.isString(e)&&0===e.length)return!0;var n=_.isArray(t)?t:t.length,i=n[0]||(e?e.length:0),a=n[1]||(e?e.length:0);return(_.isString(e)||_.isArray(e))&&e.length>=i&&e.length<=a}function r(e,r){var t=_.isArray(r)?r:r.length,n=t[0],i=t[1];return _.isNumber(n)&&!_.isNumber(i)?n+" Characters Minimum":!_.isNumber(n)&&_.isNumber(i)?i+" Characters Maximum":n===i?"Must be "+n+" Characters":"Must Be "+n+"–"+i+" Characters"}var t={validate:e,message:r};return t}angular.module("rentler.core").factory("LengthValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t){if(!t)return!0;var n=_.isFunction(t)?t:t.fn,i=n(r,e);return i}var r={validate:e,message:"Invalid"};return r}angular.module("rentler.core").factory("FnValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t){if(_.isNil(e))return!0;var n=_.has(t,"equals")?t.equals:t,i=!!_.has(t,"caseSensitive")&&t.caseSensitive;return _.isString(e)&&_.isString(n)&&!i&&(e=e.toLowerCase(),n=n.toLowerCase()),_.isEqual(e,n)}var r={validate:e,message:"Invalid"};return r}angular.module("rentler.core").factory("EqualsValidator",e)}(),function(){"use strict";function e(){function e(e,r,t){if(!t||_.isNil(e))return!0;if(_.isUndefined(e)||_.isNull(e))return!0;var n=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return n.test(e)}var r={message:"Invalid",validate:e};return r}angular.module("rentler.core").factory("EmailValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t){if(!t||_.isNil(e)||_.isDate(e))return!0;if(!window.moment){var n=new Date(e);return"[object Date]"===Object.prototype.toString.call(n)&&!isNaN(n.getTime())}var i=[moment.ISO_8601];return _.isArray(t)?i.concat(t):(_.isString(t)||_.isFunction(t))&&i.push(t),moment(e,i,!0).isValid()}var r={message:"Invalid",validate:e};return r}angular.module("rentler.core").factory("DateValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t){if(!t||_.isNil(e))return!0;var n=_.isString(t)?t:t.compare;return e===r[n]}var r={message:"Must Match",validate:e};return r}angular.module("rentler.core").factory("CompareValidator",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,r,t){return!(t&&!_.isNil(e))||_.isString(e)}var r={message:"Invalid",validate:e};return r}angular.module("rentler.core").factory("AlphanumericValidator",e),e.$inject=[]}(),function(){"use strict";function e(e){function r(r,t,n){function i(n){function i(r){_.forIn(r,function(r,s){n&&_.isString(n)&&n!==s||_.isArray(n)&&!_.includes(n,s)||(a.errors[s]=[],_.has(r,"validateIf")&&_.isFunction(r.validateIf)&&r.validateIf(t)===!1||_.forIn(r,function(r,n){if("validateIf"!==n){if("collection"===n)return void _.forIn(_.result(t,s),function(e,t){var n=_.mapKeys(r,function(e,r){return s+"["+t+"]."+r});i(n)});var l=null,o=/^\w+\[\d+\]/.exec(s);o&&(l=_.result(t,o[0]));var u=_.upperFirst(n)+"Validator",c=e.get(u),f=c.validate(_.result(t,s),t,r,l);if(!f){var d=_.isString(r.message)?r.message:_.isFunction(r.message)?r.message(s,r,_.result(t,s)):_.isString(c.message)?c.message:_.isFunction(c.message)?c.message(s,r,_.result(t,s)):"Invalid";a.errors[s].push(d)}}}))})}var a=this;if(a.errors={},i(r),a.isValid=0===_(a.errors).values().flatten().value().length,!n)return a.isValid;var s=0===_(a.errors).pick(n).values().flatten().value().length;return s}var a={validate:i,schema:r,model:t,scope:n,errors:{},isValid:!0};return a}var t={create:r};return t}angular.module("rentler.core").factory("Validator",e),e.$inject=["$injector"]}(),function(){"use strict";function e(){function e(e){e=_.pick(e,_.keys(t)),_.merge(t,e)}function r(){function e(){return t}function r(e){for(var r="",t=e.attrFieldName,n=e.ngRepeatCtrl,i=e.validator;!_.isEmpty(n);){var a=n.index,s=n.itemName,l=n.collectionName,o=o||t,u=o.split("."),c="";s===_.first(u)&&(c=l,c+="["+a+"]",u.length>1&&(c+="."+_.tail(u).join(".")),n.ngRepeat&&(c=_.trimStart(c,n.ngRepeat.itemName)),o=_.first(l.split("."))),r=c+"."+r,r=_.trim(r,"."),n=n.ngRepeat}r=r||t;var f=_.findKey(i.scope,function(e){return e===i.model}),d=r.indexOf(f);return r=_.drop(r,d+f.length).join(""),r=_.trim(r,".")}var n={getClasses:e,getFieldName:r};return n}var t={success:"has-success",warning:"has-warning",error:"has-error"};this.$get=r,this.setClasses=e}angular.module("rentler.core").provider("Validation",e),e.$inject=[]}();
//# sourceMappingURL=angular-rentler.min.js.map
